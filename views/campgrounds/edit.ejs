<%layout("layouts/boilerplate")%>
<!-- bootstrap form validation added -->
<script src="/javaScripts/editFormImageSelector.js"></script>
<link rel="stylesheet" href="/styleSheets/ImageSelection.css">
<div class="row m-3 mb-5">
    <h1 class="text-center">Edit Campground</h1>
    <div class="col-lg-6 offset-lg-3 col-md-8 offset-md-2">
        <form class="needs-validation" id="editForm" action="/campgrounds/<%=camp._id%>?_method=PUT" method="POST" enctype="multipart/form-data" novalidate>
            <div class="mb-3">
                <label for="title" class="form-label">Title :</label>
                <input type="text" id="title" name="campground[title]" class="form-control" value="<%=camp.title%>" required>
            </div>
            <div class="mb-3">
                <label for="location" class="form-label">Location :</label>
                <input type="text" id="location" name="campground[location]" class="form-control" value="<%=camp.location%>" required>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price :</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">$</span>
                    <input type="number" class="form-control" id="price" name="campground[price]" placeholder="0.0" value="<%=camp.price%>" aria-label="price-label"
                        aria-describedby="price-label" required>
                </div>
            </div>
            <div class="mb-4">
                <label for="discription" class="form-label">Description :</label>
                <textarea type="text" id="discription" name="campground[discription]"
                    class="form-control" required><%=camp.discription%></textarea>
            </div>
            <div class="mb-3">
                <label for="image" class="mb-2">Add Images:</label>
                <input class="form-control" type="file" name="image" id="image" multiple>
            </div>

            <div class="mb-3 " >
                <div class="options">
                    <div class="keep"><p>Keep<span></span></p></div>
                    <div class="delete"><p>Delete <span></span></p></div>
                </div>
                <%camp.images.map(function(img,i){%>
                    <img src="<%=img.thumbnail%>" class="img-thumbnail img-fluid formEditImages unselected" style="width: 49%; height: 200px;" alt="..." id="<%=img.filename%>">
                <%})%>

            </div>

            <input type="hidden" id="arrayInput" name="imgData">

            <div class="mb-3">
                <button type="submit" class="btn btn-success">Update Capmpground</button>
                <a class="btn btn-warning" href="/campgrounds/<%=camp._id%>">Back to Campground</a>
            </div>
        </form>
        
    </div>
</div>

<!-- "img.thumbnail" is a virtual property defined on imageSchema -->
<!-- //js for form validation is in boilerplate.ejs -->